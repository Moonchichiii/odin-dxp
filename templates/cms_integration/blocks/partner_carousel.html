{% load wagtailimages_tags %}

<section class="py-12 md:py-24 overflow-hidden relative bg-odin-bg select-none w-full border-t border-odin-border" data-gsap-carousel>

    <div class="container mx-auto px-4 mb-8 md:mb-10 text-center relative z-10">
        <h2 class="text-3xl md:text-5xl font-display font-bold text-white mb-2 md:mb-6 tracking-tight">
            {{ self.title }}
        </h2>
        {% if self.description %}
            <p class="text-text-muted max-w-2xl mx-auto text-sm md:text-lg">{{ self.description }}</p>
        {% endif %}
    </div>

    <!-- Slider Wrapper: Dynamic height (320px Mobile / 500px Desktop) -->
    <div class="slider-wrapper relative w-full h-[320px] md:h-[500px] flex items-center justify-center perspective-[2000px] cursor-grab active:cursor-grabbing">

        <!-- Floor Glow -->
        <div class="absolute bottom-0 left-1/2 -translate-x-1/2 w-full md:w-3/4 h-16 md:h-24 bg-primary/10 blur-[60px] md:blur-[80px] rounded-full pointer-events-none"></div>

        <!-- Items injected here by Alpine/GSAP -->
        {% for partner in self.partners %}
            <div class="slider-media absolute top-1/2 left-1/2 will-change-transform">
                {% include "cms_integration/partials/cards/partner_card.html" with partner=partner %}
            </div>
        {% endfor %}
    </div>

    <!-- DRAG INDICATOR (Pulsing Animation) -->
    <div class="absolute bottom-4 left-0 right-0 flex justify-center items-center gap-4 opacity-60 pointer-events-none animate-pulse z-20">
        <span class="text-primary text-[10px] md:text-xs font-mono tracking-widest uppercase flex items-center gap-2 bg-black/40 px-3 py-1 rounded-full backdrop-blur-sm border border-white/5">
            <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            Drag to Explore
            <svg class="w-3 h-3 md:w-4 md:h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
        </span>
    </div>

</section>
